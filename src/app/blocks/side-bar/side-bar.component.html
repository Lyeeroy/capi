<!-- Desktop Navigation (visible on md and larger screens) -->
<nav id="sidebar" class="min-w-[90px] w-max hidden lg:block">
  <div
    id="sidebar-menu"
    class="h-screen fixed top-0 left-0 overflow-y-auto z-[99] w-[90px] transition-all duration-300 border-r border-theme bg-theme-surface"
  >
    <!-- Logo Section -->
    <div class="py-4 px-2 sticky top-0 min-h-[70px] z-[100]">
      <a routerLink="/" class="outline-none flex flex-col items-center">
        <img src="capi.ico" class="w-8 h-8 mb-1" alt="Capi Logo" />
        <span class="text-[9px] font-medium text-theme-primary text-center"
          >Capi</span
        >
      </a>
    </div>

    <!-- Menu Items -->
    <div class="py-4">
      <ul class="space-y-1" id="ul-menu">
        <li
          *ngFor="let item of menuItems"
          id="li-menu-{{ item.route }}"
          class="relative mx-2"
          routerLinkActive="selected"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <a
            routerLink="{{ item.route }}"
            class="menu-item block w-full flex flex-col items-center cursor-pointer py-3 transition-colors duration-300 rounded-lg hover:bg-theme-surface-elevated"
            (click)="handleClick($event)"
          >
            <img
              [src]="item.svg"
              class="w-6 h-6 mb-1.5 text-theme-secondary"
              alt="{{ item.label }}"
            />
            <span
              class="text-[12px] font-medium text-theme-secondary text-center leading-tight"
            >
              {{ item.label }}
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Mobile Navigation (visible on screens below md) -->
<nav
  id="mobile-nav"
  class="fixed bottom-0 left-0 right-0 border-t bg-gray-50 border-gray-200 z-[99] lg:hidden"
>
  <ul class="flex justify-around items-center" id="ul-menu-mobile">
    <li
      *ngFor="let item of menuItems"
      id="li-menu-mobile-{{ item.route }}"
      class="relative flex-1"
      routerLinkActive="selected"
      [routerLinkActiveOptions]="{ exact: true }"
    >
      <a
        routerLink="{{ item.route }}"
        class="menu-item block flex flex-col items-center py-3 transition-colors duration-300"
        (click)="handleClick($event)"
      >
        <img
          [src]="item.svg"
          class="w-6 h-6 mb-1 text-gray-600"
          alt="{{ item.label }}"
        />
        <span
          class="text-[12px] font-medium text-gray-700 text-center leading-tight"
        >
          {{ item.label }}
        </span>
      </a>
    </li>
  </ul>
</nav>

<style>
  /* Desktop Styles */
  #sidebar-menu li.selected {
    background-color: #e6e9f8; /* Salte light background */
  }
  #sidebar-menu li.selected::after {
    content: "";
    position: absolute;
    right: -2px;
    top: 0;
    bottom: 0;
    width: 3px;
    background-color: #6c63ff; /* Salte blue border */
    z-index: 10;
    border-radius: 2px 0 0 2px;
  }
  #sidebar-menu li.selected span {
    color: #6c63ff;
  }
  #sidebar-menu li.selected img {
    filter: brightness(0) saturate(100%) invert(48%) sepia(41%) saturate(749%)
      hue-rotate(210deg) brightness(98%) contrast(92%);
  }
  #sidebar-menu li {
    padding: 0 8px; /* Matches mx-2 spacing */
  }
  #sidebar-menu li.selected {
    margin: 0 2px;
    padding: 0 8px;
  }
  /* Mobile Styles */
  #mobile-nav li.selected {
    background-color: #e6e9f8; /* Salte accent background for selected item */
  }
  #mobile-nav li.selected span {
    color: #6c63ff;
  }
  #mobile-nav li.selected img {
    filter: brightness(0) saturate(100%) invert(48%) sepia(41%) saturate(749%)
      hue-rotate(210deg) brightness(98%) contrast(92%);
  }
</style>
