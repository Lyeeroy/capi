<div class="flex flex-col h-screen bg-white">
  <!-- Main Container -->
  <div class="flex-1 flex flex-col md:flex-row overflow-hidden">
    <!-- Video Section (Top on mobile) -->
    <div
      class="w-full md:w-3/4 flex flex-col border-b md:border-r border-gray-200 p-5 space-y-4"
    >
      <ul class="flex items-center space-x-5 font-[sans-serif] mt-4">
        <li class="text-gray-500 text-base cursor-pointer flex items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-4 fill-current mr-3"
            viewBox="0 0 511 511.999"
          >
            <path
              d="M498.7 222.695c-.016-.011-.028-.027-.04-.039L289.805 13.81C280.902 4.902 269.066 0 256.477 0c-12.59 0-24.426 4.902-33.332 13.809L14.398 222.55c-.07.07-.144.144-.21.215-18.282 18.386-18.25 48.218.09 66.558 8.378 8.383 19.44 13.235 31.273 13.746.484.047.969.07 1.457.07h8.32v153.696c0 30.418 24.75 55.164 55.168 55.164h81.711c8.285 0 15-6.719 15-15V376.5c0-13.879 11.293-25.168 25.172-25.168h48.195c13.88 0 25.168 11.29 25.168 25.168V497c0 8.281 6.715 15 15 15h81.711c30.422 0 55.168-24.746 55.168-55.164V303.14h7.719c12.586 0 24.422-4.903 33.332-13.813 18.36-18.367 18.367-48.254.027-66.633zm-21.243 45.422a17.03 17.03 0 0 1-12.117 5.024h-22.72c-8.285 0-15 6.714-15 15v168.695c0 13.875-11.289 25.164-25.168 25.164h-66.71V376.5c0-30.418-24.747-55.168-55.169-55.168H232.38c-30.422 0-55.172 24.75-55.172 55.168V482h-66.71c-13.876 0-25.169-11.29-25.169-25.164V288.14c0-8.286-6.715-15-15-15H48a13.9 13.9 0 0 0-.703-.032c-4.469-.078-8.66-1.851-11.8-4.996-6.68-6.68-6.68-17.55 0-24.234.003 0 .003-.004.007-.008l.012-.012L244.363 35.02A17.003 17.003 0 0 1 256.477 30c4.574 0 8.875 1.781 12.113 5.02l208.8 208.796.098.094c6.645 6.692 6.633 17.54-.031 24.207zm0 0"
              data-original="#000000"
            />
          </svg>
          Home
        </li>
        <li class="text-gray-500 text-lg">/</li>
        <li
          class="text-gray-500 text-base cursor-pointer flex items-center"
          (click)="cancel()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-4 fill-current mr-3"
            viewBox="0 0 512 512"
          >
            <path
              d="M437.02 74.98C388.668 26.63 324.379 0 256 0S123.332 26.629 74.98 74.98C26.63 123.332 0 187.621 0 256s26.629 132.668 74.98 181.02C123.332 485.37 187.621 512 256 512s132.668-26.629 181.02-74.98C485.37 388.668 512 324.379 512 256s-26.629-132.668-74.98-181.02zM111.105 429.297c8.454-72.735 70.989-128.89 144.895-128.89 38.96 0 75.598 15.179 103.156 42.734 23.281 23.285 37.965 53.687 41.742 86.152C361.641 462.172 311.094 482 256 482s-105.637-19.824-144.895-52.703zM256 269.507c-42.871 0-77.754-34.882-77.754-77.753C178.246 148.879 213.13 114 256 114s77.754 34.879 77.754 77.754c0 42.871-34.883 77.754-77.754 77.754zm170.719 134.427a175.9 175.9 0 0 0-46.352-82.004c-18.437-18.438-40.25-32.27-64.039-40.938 28.598-19.394 47.426-52.16 47.426-89.238C363.754 132.34 315.414 84 256 84s-107.754 48.34-107.754 107.754c0 37.098 18.844 69.875 47.465 89.266-21.887 7.976-42.14 20.308-59.566 36.542-25.235 23.5-42.758 53.465-50.883 86.348C50.852 364.242 30 312.512 30 256 30 131.383 131.383 30 256 30s226 101.383 226 226c0 56.523-20.86 108.266-55.281 147.934zm0 0"
              data-original="#000000"
            />
          </svg>
          {{
            mediaType === "tv"
              ? "TV Shows"
              : mediaType === "movie"
              ? "Movie"
              : ""
          }}
        </li>
        <li class="text-gray-500 text-lg">/</li>
        <li
          class="text-[#333] text-base font-bold cursor-pointer flex items-center"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-4 fill-current mr-3"
            viewBox="0 0 24 24"
          >
            <g fill-rule="evenodd" clip-rule="evenodd">
              <path
                d="M7 4a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-6a1 1 0 1 1 2 0v6a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5h6a1 1 0 1 1 0 2z"
                data-original="#000000"
              />
              <path
                d="M19.197 4a.803.803 0 0 0-.567.235l-7.877 7.877-.379 1.514 1.514-.379 7.877-7.877A.803.803 0 0 0 19.197 4zm-1.981-1.18a2.802 2.802 0 1 1 3.963 3.964l-8.073 8.073a1 1 0 0 1-.464.263l-3.4.85a1 1 0 0 1-1.212-1.213l.85-3.399a1 1 0 0 1 .263-.464z"
                data-original="#000000"
              />
              <path
                d="M15.293 5.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1-1.414 1.414l-2-2a1 1 0 0 1 0-1.414z"
                data-original="#000000"
              />
            </g>
          </svg>
          {{ names }}
        </li>
      </ul>

      <!-- Video Container src="https://www.youtube.com/embed/dQw4w9WgXcQ"-->
      <div class="aspect-video relative">
        <iframe
          class="w-full h-full rounded-xl bg-gray-100"
          frameborder="0"
          allowfullscreen
          loading="lazy"
        ></iframe>
      </div>

      <!-- Controls -->
      <div class="p-4 space-y-4 bg-gray-100 border border-gray-200 rounded-xl">
        <!-- Source Selection (Mobile optimized) -->
        <div class="flex flex-col sm:flex-row gap-2 items-center">
          <select
            class="w-full sm:w-48 px-3 py-2 rounded-full border border-gray-300 text-sm focus:ring-2 focus:ring-red-500"
          >
            <option>Select Source</option>
            <option>Source 1</option>
            <option>Source 2</option>
          </select>

          <div class="flex gap-2 w-full sm:w-auto">
            <button
              class="flex-1 sm:flex-none px-4 py-2 rounded-full bg-gray-100 hover:bg-gray-200 text-sm flex items-center justify-center gap-1"
            >
              <svg
                class="w-4 h-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 19l-7-7 7-7"
                />
              </svg>
              <span class="hidden sm:inline">Prev</span>
            </button>
            <button
              class="flex-1 sm:flex-none px-4 py-2 rounded-full bg-gray-100 hover:bg-gray-200 text-sm flex items-center justify-center gap-1"
            >
              <span class="hidden sm:inline">Next</span>
              <svg
                class="w-4 h-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"
                />
              </svg>
            </button>
          </div>
        </div>

        <!-- Episode Navigation -->
        <div class="flex gap-2 justify-between">
          <button
            class="flex-1 px-4 py-2 rounded-full bg-gray-300 hover:bg-red-600 text-white text-sm flex items-center justify-center gap-2"
          >
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 19l-7-7 7-7"
              />
            </svg>
            Previous
          </button>
          <button
            class="flex-1 px-4 py-2 rounded-full bg-gray-300 hover:bg-red-600 text-white text-sm flex items-center justify-center gap-2"
          >
            Next
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Playlist Section (Bottom on mobile) -->
    <div class="w-full md:w-1/4 overflow-y-auto shadow-lg">
      <div class="p-4 space-y-4">
        <h2 class="text-lg font-semibold">Playlist</h2>

        <!-- Season Selector -->
        <div class="space-y-2">
          <div class="flex items-center justify-between p-2 rounded-lg">
            <select
              class="w-full px-2 py-1 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-transparent"
              (change)="onSeasonChange($event)"
            >
              <option *ngFor="let season of totalSeasons" [value]="season">
                Season {{ season }} / {{ totalSeasons.length }}
              </option>
            </select>
          </div>

          <!-- Episodes -->
          <div class="space-y-1 pl-4">
            <button
              class="w-full flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 text-sm"
              *ngFor="let episode of episodeNames"
            >
              <div class="w-16 h-12 rounded-md overflow-hidden">
                <img
                  [src]="
                    'https://image.tmdb.org/t/p/w500' +
                    episodePosters[episodeNames.indexOf(episode)]
                  "
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex-1">
                <div class="font-medium">{{ episode }}</div>
                <div class="text-gray-500 text-xs">Duration</div>
              </div>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
