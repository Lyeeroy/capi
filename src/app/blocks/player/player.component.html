<div class="flex flex-col h-screen bg-white">
  <div class="flex-1 flex flex-col md:flex-row">
    <div class="w-full flex flex-col border-bp-5 space-y-4">
      <div class="flex flex-col lg:flex-row gap-4 p-4 md:p-6">
        <div class="w-full lg:w-3/4 aspect-video rounded-xl relative">
          <div class="w-full h-full">
            <app-iframe
              [iframeUrl]="iframeUrl"
              [showIframe]="showIframe"
            ></app-iframe>
            <app-controls
              class="absolute bottom-0 left-0 w-full bg-black bg-opacity-50 p-2 rounded-b-xl"
              [currentSourceUrl]="currentSourceUrl"
              [sources]="sources"
              [currentEpisode]="currentEpisode"
              (sourceChange)="onSourceChange($event)"
              (prevEpisodeClick)="prevEpisode(currentEpisode)"
              (nextEpisodeClick)="nextEpisode(currentEpisode)"
              (prevSourceClick)="prevSource()"
              (nextSourceClick)="nextSource()"
            ></app-controls>
          </div>
        </div>
        <div
          class="w-full lg:w-1/4 flex flex-col bg-gray-50 rounded-xl border border-gray-200 md:h-[calc((100vw_-_2rem)_*_0.75_/_1.7778)] mt-4 lg:mt-0"
        >
          <app-playlist
            *ngIf="mediaType !== 'movie'"
            [names]="names || ''"
            [totalSeasons]="totalSeasons"
            [currentSeason]="currentSeason"
            [currentEpisodes]="currentEpisodes"
            [currentPosters]="currentPosters"
            [layoutType]="layoutType"
            [isSortedAscending]="isSortedAscending"
            [activeEpisodeIndex]="activeEpisodeIndex"
            (seasonChange)="onSeasonChange($event)"
            (episodeSelected)="playEpisode($event)"
            (layoutChange)="changeLayout()"
            (sortToggle)="ascOrDescSort()"
          ></app-playlist>
        </div>
      </div>
    </div>
  </div>
</div>
