<!-- src/app/blocks/home/carousel/carousel.component.html -->
<div
  class="relative overflow-hidden mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8"
>
  <div
    class="carousel-inner flex transition-transform duration-500 ease-in-out"
    [style.transform]="
      'translateX(-' + currentSlide * (100 / itemsPerPage) + '%)'
    "
  >
    <!-- Slides -->
    <div
      class="slide w-full flex-shrink-0 px-2 basis-full md:basis-1/3 lg:basis-1/4"
      *ngFor="let item of items; trackBy: trackByFn"
    >
      <div
        class="slide-content relative h-[300px] md:h-[400px] lg:h-[500px] overflow-hidden rounded-lg"
      >
        <img
          [src]="
            'https://image.tmdb.org/t/p/w1280' +
            (item.backdrop_path || item.poster_path)
          "
          alt="{{ item.title || item.name }}"
          class="slide-image w-full h-full object-cover transition-transform duration-300 ease-in-out hover:scale-105"
          loading="lazy"
        />

        <div
          class="slide-overlay absolute inset-0 bg-black bg-opacity-60 flex flex-col justify-end p-6"
        >
          <div class="slide-info flex-grow">
            <h2 class="text-white text-2xl md:text-3xl font-bold mb-2">
              {{ item.title || item.name }}
            </h2>
            <p class="text-white text-sm md:text-base">
              {{ item.overview | slice : 0 : 200 }}...
            </p>
          </div>

          <div class="slide-actions mt-4 flex gap-2">
            <button
              class="details-btn bg-gray-700 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-600 transition"
            >
              DETAILS
            </button>
            <button
              class="watch-now-btn bg-red-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-700 transition"
            >
              WATCH NOW
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation buttons -->
    <button
      class="prev-btn absolute top-1/2 left-4 transform -translate-y-1/2 bg-gray-800 bg-opacity-75 text-white p-3 rounded-full cursor-pointer z-10"
      (click)="prevSlide()"
    >
      <i class="fas fa-chevron-left"></i>
    </button>
    <button
      class="next-btn absolute top-1/2 right-4 transform -translate-y-1/2 bg-gray-800 bg-opacity-75 text-white p-3 rounded-full cursor-pointer z-10"
      (click)="nextSlide()"
    >
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>

  <!-- Pagination dots -->
  <div class="pagination flex justify-center mt-4">
    <span
      *ngFor="let i of getArrayFromLength(items.length)"
      class="dot w-3 h-3 rounded-full mx-1 cursor-pointer transition"
      [class.active]="i === currentSlide"
      (click)="currentSlide = i"
    ></span>
  </div>
</div>
